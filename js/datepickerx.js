!function(){"use strict";var e={mondayFirst:!0,format:"yyyy/mm/dd",minDate:new Date(0,0),maxDate:new Date(9999,11,31),weekDayLabels:["Mo","Tu","We","Th","Fr","St","Su"],shortMonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],singleMonthLabels:["January","February","March","April","May","June","July","August","September","October","November","December"],todayButton:!0,todayButtonLabel:"Today",clearButton:!0,clearButtonLabel:"Clear"},t=null;function n(e,t,n,a,i){t=t||[],!Array.isArray(t)&&(t=[t]);for(var r=document.createElement(e),o=t.length;o--;r.classList.add(t[o]));return i&&(r.title=i),r.innerHTML=a||"",n instanceof Element&&n.appendChild(r),r}function a(e){return e=e||new Date,new Date(e.getFullYear(),e.getMonth(),e.getDate())}function i(i){var r={},o={},l=!1,s=null,c=2;function d(){var e=r.minDate;return e instanceof HTMLInputElement&&(e=null===(e=e.DatePickerX.getValue(!0))?r.minDate.DatePickerX.getMinDate():new Date(e)).setDate(e.getDate()+1),a(e)}function u(){var e=r.maxDate;return e instanceof HTMLInputElement&&(e=null===(e=e.DatePickerX.getValue(!0))?r.maxDate.DatePickerX.getMaxDate():new Date(e)).setDate(e.getDate()-1),a(e)}function p(e,t){var n={d:e.getDate(),dd:e.getDate(),D:e.getDay(),m:e.getMonth()+1,mm:e.getMonth()+1,M:e.getMonth(),MM:e.getMonth(),yy:e.getFullYear().toString().substr(-2),yyyy:e.getFullYear()};return n.dd<10&&(n.dd="0"+n.dd),n.mm<10&&(n.mm="0"+n.mm),n.D=r.weekDayLabels[n.D?n.D-1:6],n.M=r.shortMonthLabels[n.M],n.MM=r.singleMonthLabels[n.MM],t.replace(/(?:[dmM]{1,2}|D|yyyy|yy)/g,(function(e){return void 0!==n[e]?n[e]:e}))}function g(){return o.container.classList.contains("active")}function D(e){o.content.innerHTML="";var t=d(),i=u(),l=a();r.todayButton&&o.today.classList[l>=t&&l<=i?"remove":"add"]("dpx-disabled"),c<2&&(t.setDate(1),i.setDate(1),c||(t.setMonth(0),i.setMonth(0))),t=t.getTime(),i=i.getTime(),(e=a(new Date(e||s||Date.now()))).getTime()<t?e=new Date(t):e.getTime()>i&&(e=new Date(i));var p=e.getMonth(),g=e.getFullYear(),D=10*Math.floor(g/10);if(e=new Date(c?g:D,c<2?0:p),o.title.innerHTML=c?(2===c?r.singleMonthLabels[p]+" ":"")+g:D+" - "+(D+9),o.title.dpxValue=e.getTime(),o.title.title=2===c?g:D+" - "+(D+9),o.prevTitle.classList[e.getTime()<=t?"add":"remove"]("dpx-disabled"),2===c?e.setMonth(p-1):e.setFullYear(c?g-1:D-10),o.prevTitle.title=c?(2===c?r.singleMonthLabels[e.getMonth()]+" ":"")+e.getFullYear():D-10+" - "+(D-1),o.prevTitle.dpxValue=e.getTime(),2===c?e.setMonth(e.getMonth()+2):e.setFullYear(c?g+1:D+20),o.nextTitle.classList[e.getTime()>i?"add":"remove"]("dpx-disabled"),o.nextTitle.title=c?(2===c?r.singleMonthLabels[e.getMonth()]+" ":"")+e.getFullYear():D+10+" - "+(D+19),o.nextTitle.dpxValue=e.getTime(),2===c?e.setMonth(e.getMonth()-1):e.setFullYear(c?g:D),2===c){var m=r.weekDayLabels.length;!r.mondayFirst&&--m&&n("span",["dpx-item","dpx-weekday","dpx-weekend"],o.content,r.weekDayLabels[6]);for(var v=0;v<m;++v){var f=["dpx-item","dpx-weekday"];v>4&&f.push("dpx-weekend"),n("span",f,o.content,r.weekDayLabels[v])}}if(2===c){var h=e.getDay();e.setDate(r.mondayFirst?-(h?h-2:5):1-h)}else c?e.setMonth(e.getMonth()-2):e.setFullYear(D-3);var y=s;c<2&&(null!==y&&((y=new Date(y)).setDate(1),!c&&y.setMonth(0),y=y.getTime()),l.setDate(1),!c&&l.setMonth(0)),l=l.getTime(),o.container.setAttribute("data-dpx-type",["year","month","day"][c]);for(var M=["getFullYear","getMonth","getDate"][c],x=["setFullYear","setMonth","setDate"][c],L=2===c?42:16;L--;e[x](e[M]()+1)){f=["dpx-item"];var k=c?r.singleMonthLabels[e.getMonth()]+" ":"";2===c&&(k+=e.getDate()+", "),k+=e.getFullYear(),(c?2===c?e.getMonth()!==p:e.getFullYear()!==g:e.getFullYear()<D||e.getFullYear()>D+9)&&f.push("dpx-out"),2===c&&(6===e.getDay()||0===e.getDay())&&f.push("dpx-weekend"),e.getTime()===l&&f.push("dpx-current"),e.getTime()===s&&f.push("dpx-selected"),(e.getTime()<t||e.getTime()>i)&&f.push("dpx-disabled");var b=c?2===c?e.getDate():r.shortMonthLabels[e.getMonth()]:e.getFullYear();n("span",f,o.content,b,k).dpxValue=e.getTime()}}function m(e,t){if(void 0===r[e])return console.error("DatePickerX, setOption: Option doesn't exist.")&&!1;if("minDate"===e||"maxDate"===e){if(!(t instanceof HTMLInputElement)&&(!(t instanceof Date)&&(t=new Date(t)),isNaN(t)))return console.error("DatePickerX, setOption: Invalid date value.")&&!1}else{if(typeof r[e]!=typeof t)return console.error("DatePickerX, setOption: Option has invalid type.")&&!1;if(Array.isArray(r[e])){if(t.length<r[e].length)return console.warn("DatePickerX, setOption: Invalid option length.")&&!1;t=t.slice(0,r[e].length)}}r[e]=t}return{init:function(s){if(s=s||{},l)return console.error("DatePickerX, init: Date picker have already inited.")&&!1;for(var p in l=!0,r={},e)r[p]=e[p];if("object"!=typeof s)console.error("DatePickerX, init: Initial options must be an object.");else for(var p in s)m(p,s[p]);var v;return i.parentNode.classList.add("date-picker-x-container"),i.classList.add("date-picker-x-input"),i.readOnly=!0,function(){o.container=n("div","date-picker-x");var e=n("div","dpx-title-box",o.container);if(o.prevTitle=n("span","dpx-prev",e,"&#x276e;"),o.title=n("span","dpx-title",e),o.nextTitle=n("span","dpx-next",e,"&#x276f;"),o.content=n("div","dpx-content-box",o.container),i.nextElementSibling?i.parentNode.insertBefore(o.container,i.nextElementSibling):i.parentNode.appendChild(o.container),r.todayButton||r.clearButton){var t=n("div","dpx-btns",o.container);r.todayButton&&(o.today=n("span",["dpx-item","dpx-today"],t,r.todayButtonLabel,r.todayButtonLabel)),r.clearButton&&(o.clear=n("span",["dpx-item","dpx-clear"],t,r.clearButtonLabel,r.clearButtonLabel))}}(),v=this,i.addEventListener("click",(function(e){if(!g()){e.stopPropagation(),c=2,D(),o.container.classList.add("active"),o.container.classList.remove("to-top");var n=o.container.getBoundingClientRect();n.bottom>window.innerHeight&&n.top+i.offsetHeight>o.container.offsetHeight&&(o.container.classList.add("to-top"),o.container.getBoundingClientRect().top<0&&o.container.classList.remove("to-top")),t&&t!==o.container&&t.classList.remove("active"),t=o.container}})),window.addEventListener("click",(function(){t&&t.classList.remove("active")})),o.container.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault()})),o.content.addEventListener("click",(function(e){if(2===c)v.setValue(e.target.dpxValue)&&o.container.classList.remove("active");else{var t=d(),n=u();t.setDate(1),n.setDate(1),c||(t.setMonth(0),n.setMonth(0)),e.target.dpxValue>=t.getTime()&&e.target.dpxValue<=n.getTime()&&++c&&D(e.target.dpxValue)}})),o.prevTitle.addEventListener("click",(function(){D(this.dpxValue)})),o.nextTitle.addEventListener("click",(function(){D(this.dpxValue)})),o.title.addEventListener("click",(function(){c&&c--&&D(this.dpxValue)})),o.today&&o.today.addEventListener("click",(function(){!this.classList.contains("dpx-disabled")&&v.setValue(a())&&o.container.classList.remove("active")})),o.clear&&o.clear.addEventListener("click",(function(){v.setValue(null)&&o.container.classList.remove("active")})),!0},remove:function(){return l?(i.parentNode.removeChild(o.container),i.classList.remove("date-picker-x-input"),i.readOnly=l=!1,!0):console.error("DatePickerX, remove: Date picker doesn't init yet.")&&!1},setValue:function(e,t){if(!l)return console.error("DatePickerX, remove: Date picker doesn't init yet.")&&!1;if(null===e)s=null,i.value="";else{if(!(e instanceof Date)&&(e=new Date(e)),isNaN(e))return console.error("DatePickerX, setValue: Can't convert argument to date.")&&!1;if(!t&&(e.getTime()<d().getTime()||e.getTime()>u().getTime()))return console.error("DatePickerX, setValue: Date out of acceptable range.")&&!1;s=e.getTime(),i.value=p(e,r.format)}var n=document.createEvent("Event");return n.initEvent("change",!0,!0),i.dispatchEvent(n),g()&&D(),!0},getValue:function(e){return!l&&console.error("DatePickerX, getValue: Date picker doesn't init yet."),e?s:null===s?"":p(new Date(s),r.format)},getMinDate:function(){var e=r.minDate;return e instanceof HTMLInputElement&&(e=e.DatePickerX.getMinDate()),a(e)},getMaxDate:function(){var e=r.maxDate;return e instanceof HTMLInputElement&&(e=e.DatePickerX.getMaxDate()),a(e)}}}var r=[],o=[];Object.defineProperty(HTMLInputElement.prototype,"DatePickerX",{get:function(){var e=r.indexOf(this);return-1===e&&(e=r.push(this)-1,o.push(new i(this))),o[e]},set:function(){}}),window.DatePickerX={setDefaults:function(t){if("object"!=typeof t)return console.error("DatePickerX, setDefaults: Invalid option type.")&&!1;for(var n in t)typeof t[n]==typeof e[n]&&(Array.isArray(e[n])?t[n].length>=e[n].length&&(e[n]=t[n].slice(0,e[n].length)):e[n]=t[n]);return!0}}}();